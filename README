# Anti-Phishing PerÃº (Bancos & Financieras) â€” Chrome Extension

Detecta seÃ±ales de **phishing** en sitios que imitan a bancos y financieras del PerÃº.  
Muestra **alertas** en pÃ¡gina (banner + sonido), marca el Ã­cono con **badge** (verde/Ã¡mbar/rojo), y ofrece un **Modo Estricto** que **bloquea temporalmente** la escritura en campos sensibles (tarjeta, CVV, vencimiento, CCI, y opcionalmente DNI) cuando el dominio **no** es oficial.

> Repo: <https://github.com/bvislao/antiphishing-peru-ext>  
> Autor: [bvislao.me](https://bvislao.me) Â· â˜• <https://www.buymeacoffee.com/bvislao>

---

## âœ¨ CaracterÃ­sticas

- âœ… **HeurÃ­sticas locales** (sin enviar tus datos):  
  - ConexiÃ³n **HTTPS**  
  - **Punycode** / homÃ³grafos  
  - Dominios **look-alike** (distancia a lista de oficiales)  
  - Formularios que envÃ­an a **otro dominio** o **sin HTTPS**  
  - **Campos sensibles** detectados por labels/patrones: **DNI**, **Tarjeta**, **CVV/CVC**, **Fecha de vencimiento**, **CCI**  
- ğŸ›¡ï¸ **Modo Estricto**: bloquea inputs sensibles en dominios no oficiales; botÃ³n para **desbloquear 60s**.  
- ğŸ§° **Lista blanca** editable (eTLD+1) para bancos/financieras del PerÃº.  
- ğŸ”” **Alertas**: banner en la pÃ¡gina, beep, badge en el action button y notificaciÃ³n en riesgo **ALTO**.  
- ğŸ§ª IntegraciÃ³n **opcional** con **Google Safe Browsing** (stub incluido).

---

## ğŸ“¦ Estructura del proyecto

anti-phishing-pe/
â”œâ”€ manifest.json
â”œâ”€ background.js
â”œâ”€ content.js
â”œâ”€ popup.html
â”œâ”€ popup.js
â”œâ”€ options.html
â”œâ”€ options.js
â””â”€ whitelist.js

---

---

## ğŸš€ InstalaciÃ³n (modo desarrollador)

1. Descarga/clona este repositorio.  
2. Abre `chrome://extensions` y activa **Developer mode**.  
3. Clic en **Load unpacked** â†’ selecciona la carpeta del proyecto.  
4. Abre cualquier sitio y observa el **badge** del Ã­cono (vacÃ­o / `!` / `!!`).  
5. Si hay riesgo **MEDIO** o **ALTO**, verÃ¡s un **banner** y escucharÃ¡s un **beep**.  
6. En **Options**, edita la **lista de dominios confiables** y el **Modo Estricto**.

---

## âš™ï¸ ConfiguraciÃ³n

### Lista de dominios confiables (eTLD+1)
- Abre **Options** y agrega, uno por lÃ­nea, los dominios oficiales (ej: `bcp.com.pe`, `bbva.pe`, `scotiabank.com.pe`).
- La detecciÃ³n de â€œlook-alikeâ€ usa distancia sobre eTLD+1 y ajusta el nivel de riesgo.

### Modo Estricto
- Activa/desactiva el **bloqueo temporal** de inputs sensibles en dominios **no** oficiales.
- Selecciona quÃ© **tipos de datos** bloquear: `card`, `cvv`, `expiry`, `cci` y opcionalmente `dni`.
- En pÃ¡gina aparece una **pÃ­ldora** â€œDesbloquear 60sâ€ para permitir la escritura temporalmente.

### Safe Browsing (opcional)
- El proyecto incluye un **stub** para consultar **Google Safe Browsing**.  
- Si decides habilitarlo, necesitas una **API Key** y declarar en la **PolÃ­tica de Privacidad** que ciertas URLs pueden ser verificadas contra la API.

---

## ğŸ” Permisos y privacidad

**Permisos**:
- `storage`: guarda configuraciÃ³n (lista de dominios y modo estricto).  
- `tabs`, `activeTab`: lee URL de la pestaÃ±a activa para evaluar.  
- `webNavigation`: reaccionar a cambios de navegaciÃ³n.  
- `notifications`: mostrar alerta cuando el riesgo es **ALTO**.  
- `host_permissions: "<all_urls>"`: analizar pistas de phishing en cualquier sitio.

**Privacidad**:
- El anÃ¡lisis es **local**; no recolectamos datos personales ni historial.  

---

## ğŸ§ª SeÃ±ales de detecciÃ³n (resumen)

- ğŸ”’ HTTPS ausente  
- ğŸ”¤ Punycode/homÃ³grafos (`xn--`)  
- ğŸ§¬ Look-alike de dominios oficiales (distancia Levenshtein)  
- ğŸ“¤ Formularios que envÃ­an a otro dominio o sin HTTPS  
- ğŸªª **DNI** (8 dÃ­gitos / labels asociados)  
- ğŸ¦ **CCI** (20 dÃ­gitos / labels)  
- ğŸ’³ **Tarjeta** (patrones + Luhn)  
- ğŸ” **CVV/CVC** (3â€“4 dÃ­gitos / labels)  
- ğŸ“† **Vencimiento** (`MM/YY` o `MM/YYYY` / labels)  

> Estas seÃ±ales **aumentan el riesgo** cuando el dominio **no** estÃ¡ en la lista oficial.

---

## ğŸ–¼ï¸ Capturas (sugerencias)

Incluye en la carpeta `/docs` o en el repo:
- `docs/screenshot-popup.png` â€” Popup con estado y razones.  
- `docs/screenshot-options.png` â€” Options con lista y modo estricto.  
- `docs/screenshot-banner.png` â€” Banner de alerta.  
- `docs/screenshot-pill.png` â€” PÃ­ldora â€œDesbloquear 60sâ€.

## ğŸ¤ Contribuir

Â¡Los PR son bienvenidos!  
1. Haz un fork y crea una rama: `feat/mi-mejora`.  
2. Aplica cambios y agrega pruebas/manual de verificaciÃ³n si corresponde.  
3. Ejecuta una revisiÃ³n manual en `chrome://extensions`.  
4. Abre un **Pull Request** describiendo el cambio y capturas.


---

## ğŸ“„ Licencia

**MIT License Apache 2.0**.  

---

## ğŸ™Œ Agradecimientos & Sponsor

Si este proyecto te ayuda, puedes **invitarme un cafÃ©** â˜•  
**BuyMeACoffee:** <https://www.buymeacoffee.com/bvislao>

---

## ğŸ“« Contacto

- Web: <https://bvislao.me>  
- Repo: <https://github.com/bvislao/antiphishing-peru-ext>  
- Issues: <https://github.com/bvislao/antiphishing-peru-ext/issues>